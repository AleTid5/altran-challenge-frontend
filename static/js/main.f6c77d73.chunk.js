(this["webpackJsonpaltran-challenge-frontend"]=this["webpackJsonpaltran-challenge-frontend"]||[]).push([[0],{24:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(18),s=n.n(a),i=(n(24),n(3)),o=n(0),l=Object(r.createContext)({filter:"",isSearching:!1,setFilter:function(e){},setIsSearching:function(e){}}),u=l.Provider,d=function(e){var t=e.children,n=Object(r.useState)(""),c=Object(i.a)(n,2),a=c[0],s=c[1],l=Object(r.useState)(!1),d=Object(i.a)(l,2),j=d[0],h=d[1];return Object(r.useEffect)((function(){document.body.style.overflow=j?"hidden":"auto"}),[j]),Object(o.jsx)(u,{value:{filter:a,isSearching:j,setFilter:s,setIsSearching:h},children:t})},j=function(){var e=Object(r.useContext)(l);if(!e)throw new Error("useGnomeSearchContext must be used within a GnomeSearchProvider");return e};function h(e){var t=e.children;return Object(o.jsx)("div",{className:"background",children:t})}function b(e){var t=e.className,n=e.color,r=void 0===n?"white":n;return Object(o.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:t,children:Object(o.jsx)("path",{fill:r,d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})})}function f(e){var t=e.className,n=e.color,r=void 0===n?"white":n;return Object(o.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:t,children:[Object(o.jsx)("path",{fill:r,fillRule:"evenodd",d:"M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z",clipRule:"evenodd"}),Object(o.jsx)("path",{fill:r,fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z",clipRule:"evenodd"})]})}function v(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=j(),s=a.setFilter,l=a.setIsSearching,u=function(){s(n),l(!1)};return Object(o.jsxs)("div",{className:"search-bar-input-container",children:[Object(o.jsx)("input",{type:"text",className:"search-bar-input",placeholder:"Search a Gnome...",value:n,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)},onChange:function(e){var t=e.target.value;l(!0),c(t)},onKeyDown:function(e){"Enter"===e.key&&u()}}),Object(o.jsx)("div",{className:"input-icon",onClick:u,children:Object(o.jsx)(f,{})})]})}function O(){return Object(o.jsxs)("div",{className:"search-bar",children:[Object(o.jsx)(b,{className:"cursor-pointer"}),Object(o.jsx)(v,{})]})}var m,x=n(4),g=n.n(x),p=n(7),w=n(19),N=n.n(w);!function(e){e.FETCHING="FETCHING"}(m||(m={}));var k=function(){var e=Object(p.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://raw.githubusercontent.com/rrafols/mobile_test/master/data.json");case 2:return t=e.sent,n=t.data.Brastlewark,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function S(e){var t=e.error;return Object(o.jsx)("div",{className:"error-card-container",children:Object(o.jsxs)("div",{className:"error-card",children:[Object(o.jsx)("div",{className:"error-card-title",children:"We're so sorry, there was an error! \ud83d\ude1e"}),Object(o.jsxs)("div",{className:"error-card-description",children:["The only thing you can know about the error is that"," ",function(){switch(t){case m.FETCHING:return"it occurred when trying to obtain the data of the city of Brastlewark.";default:return"it's something internal and that we are already working to solve it. Please try again in a few minutes \ud83d\ude04"}}()]}),Object(o.jsx)("div",{className:"error-card-description",children:"You can reload the page to try again. If the problem persists, please feel free to contact our great support team \ud83d\ude80"})]})})}var y=n(5),C=n.n(y);function E(){var e=function(){return Object(o.jsxs)("div",{className:"gnome-card",children:[Object(o.jsx)("div",{className:"profile space-between",children:Object(o.jsx)(C.a,{circle:!0,className:"profile-image"})}),Object(o.jsx)(C.a,{height:220})]})};return Object(o.jsx)(y.SkeletonTheme,{color:"#393b3c",highlightColor:"#9ca3af",children:Object(o.jsxs)("div",{className:"gnome-grid",children:[Object(o.jsx)(e,{}),Object(o.jsx)(e,{}),Object(o.jsx)(e,{}),Object(o.jsx)(e,{})]})})}function H(){return Object(o.jsx)("div",{className:"not-found-card-container",children:Object(o.jsxs)("div",{className:"not-found-card",children:[Object(o.jsx)(f,{className:"not-found-card-icon"}),Object(o.jsx)("div",{className:"not-found-card-title",children:"No results"}),Object(o.jsx)("div",{className:"not-found-card-description",children:"There are no Gnomes with that name! Try changing the filter!"})]})})}var I=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,48))}));function T(){var e=Object(r.useState)(24),t=Object(i.a)(e,2),n=t[0],c=t[1],a=j().filter,s=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){var e=window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight;c(e)}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),n}(),l=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(i.a)(a,2),o=s[0],l=s[1];return Object(r.useEffect)((function(){Object(p.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(null),e.t0=l,e.next=5,k();case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),c(m.FETCHING);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),[o,n]}(),u=Object(i.a)(l,2),d=u[0],h=u[1];console.log(d);var b=Object(r.useMemo)((function(){return d.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}))}),[d,a]);Object(r.useEffect)((function(){s&&c(n+24)}),[s]);return Object(o.jsx)(r.Suspense,{fallback:Object(o.jsx)(E,{}),children:h?Object(o.jsx)(S,{error:h}):0===b.length&&a.length>0?Object(o.jsx)(H,{}):Object(o.jsx)("div",{className:"gnome-grid",children:b.filter((function(e,t){return t<n})).map((function(e,t){return Object(o.jsx)(I,{gnome:e},t)}))})})}function F(e){var t=e.children,n=j().isSearching;return Object(o.jsxs)("div",{className:"app-container ".concat(n?"block-overflow":""),children:[n&&Object(o.jsx)("div",{className:"gnome-search-activated"}),t]})}function G(){return Object(o.jsx)(h,{children:Object(o.jsxs)(d,{children:[Object(o.jsx)(O,{}),Object(o.jsx)(F,{children:Object(o.jsx)(T,{})})]})})}s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(G,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.f6c77d73.chunk.js.map